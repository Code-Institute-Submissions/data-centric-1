{% extends "base.html" %}
{% block code %}

<div class="row">
    <div class="col s12 l6 center-align">
        <h5 class="page-heading">EDIT RECIPE</h5>
        {% for flash in get_flashed_messages() %}
            <p class="flash">{{ flash }} </p>
        {% endfor %}
    </div>
</div>

<div class="row">
    <div class="col s12 l6 m10 offset-m1 l8 offset-l2">
        <a href="#" onclick="history.back()"
        class="waves-effect waves-light btn-large back-button teal"><i class="fas fa-times-circle"></i> Cancel</a>
    </div>
</div>

<div class="row row-form">
    <form class="col s12 l6 m10 offset-m1 m10 offset-m1 l8 offset-l2 form-bg" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
        <div class="row">
          <div class="col s12 input-field">
                <i class="fas fa-image prefix"></i>
                <input id="image" value="{{ recipe.image }}" name="image" type="text" class="validate" minlength="8">
                <label for="image">URL link address for image</label>
            </div>
             <div class="col s12 input-field">
               <i class="fas fa-utensils prefix"></i>
                <input id="recipe_name" value="{{ recipe.recipe_name }}" name="recipe_name" type="text" class="validate" required>
                <label for="recipe_name">Recipe Name</label>
            </div>
            <div class="col s12 l6 m6 input-field">
                <i class="fas fa-user prefix"></i>
                <input id="added_by" value="{{ recipe.added_by }}" name="added_by" type="text" class="validate" required>
                <label for="added_by">Your Name</label>
            </div>
            <div class="col s12 l6 m6 input-field">
                <i class="far fa-clock prefix"></i>
                <input id="time" value="{{ recipe.time[:2] }}" name="time" type="text" class="validate" required minlength="1" 
                maxlength="3" pattern="^\s*[0-9]+*$">
            <label for="time">Time in minutes</label>
        </div>
            <!--category-->
            <div class="input-field col s12 l6 m6">
            <i class="fas fa-folder-open prefix"></i>
               <select id="category" name="category" class="validate" required>
                    <option value="" disabled selected>Choose Category</option>
                    {% if recipe.category %}
                            <option value="{{ recipe.category }}" selected>{{ recipe.category }}</option>
                        {% endif %}
                    <option value="BREAKFAST">BREAKFAST</option>
                    <option value="MEALS">MEALS</option>
                    <option value="DESSERTS">DESSERTS</option>
                    <option value="SMOOTHIES">SMOOTHIES</option>
                </select>
            </div>
            <!--portions-->
            <div class="input-field col s12 l6 m6">
            <i class="fas fa-mortar-pestle prefix"></i>
               <select id="portions" name="portions" class="validate" required>
                    <option value="" disabled selected>Choose Portions</option>
                        {% if recipe.portions %}
                            <option value="{{ recipe.portions }}" selected>{{ recipe.portions }}</option>
                        {% endif %}
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                </select>
            </div>
        </div>
        <!---row ingredients-->
        <div class="row row-ingredients">
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient1" value="{{ recipe.ingredients[0] }}" name="ingredients" type="text" class="validate" minlength="1" required>
                <label for="ingredient1" >Ingredient 1</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient2" value="{{ recipe.ingredients[1] }}" name="ingredients" type="tel" class="validate" minlength="1" required>
                <label for="ingredient2">Ingredient 2</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient3" value="{{ recipe.ingredients[2] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient3">Ingredient 3</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient4" value="{{ recipe.ingredients[3] }}" name="ingredients" type="tel" class="validate">
                <label for="ingredient4">Ingredient 4</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient5" value="{{ recipe.ingredients[4] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient5">Ingredient 5</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient6" value="{{ recipe.ingredients[5] }}" name="ingredients" type="tel" class="validate">
                <label for="ingredient6">Ingredient 6</label>
            </div>
                <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient7" value="{{ recipe.ingredients[6] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient7">Ingredient 7</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient8" value="{{ recipe.ingredients[7] }}" name="ingredients" type="tel" class="validate">
                <label for="ingredient8">Ingredient 8</label>
            </div>
                <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient9" value="{{ recipe.ingredients[8] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient9">Ingredient 9</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient10" value="{{ recipe.ingredients[9] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient10">Ingredient 10</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient11" value="{{ recipe.ingredients[10] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient11">Ingredient 11</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient12" value="{{ recipe.ingredients[11] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient10">Ingredient 12</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient13" value="{{ recipe.ingredients[12] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient13">Ingredient 13</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient14" value="{{ recipe.ingredients[13] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient14">Ingredient 14</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient15" value="{{ recipe.ingredients[14] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient15">Ingredient 15</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient16" value="{{ recipe.ingredients[15] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient16">Ingredient 16</label>
            </div>
            <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient17" value="{{ recipe.ingredients[16] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient17">Ingredient 17</label>
            </div>
             <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient18" value="{{ recipe.ingredients[17] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient18">Ingredient 18</label>
            </div>
               <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient19" value="{{ recipe.ingredients[18] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient19">Ingredient 19</label>
            </div>
               <div class="input-field col s12 l6">
                <i class="fas fa-lemon prefix"></i>
                <input id="ingredient20" value="{{ recipe.ingredients[19] }}" name="ingredients" type="text" class="validate">
                <label for="ingredient20">Ingredient 20</label>
            </div>
        </div><!--/row-ingredients-->
    
        <!--Instructions-->
        <div class="row row-instructions">
            <div class="input-field col s12">
                <textarea id="1" name="instructions" class="materialize-textarea validate" minlength="1" required>
                    {{- recipe.instructions[0] -}}
                </textarea>
                <label for="1"><strong>1.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="2" name="instructions" class="materialize-textarea validate" minlength="1">
                    {{- recipe.instructions[1] -}}
                </textarea>
                <label for="2"><strong>2.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="3" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[2] -}}
                </textarea>
                <label for="3"><strong>3.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="4" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[3] -}} 
                </textarea>
                <label for="4"><strong>4.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="5" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[4] -}}
                </textarea>
                <label for="5"><strong>5.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="6" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[5] -}}
                </textarea>
                <label for="6"><strong>6.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="7" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[6] -}}
                </textarea>
                <label for="7"><strong>7.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="8" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[7] -}}
                </textarea>
                <label for="8"><strong>8.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="9" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[8] -}}
                </textarea>
                <label for="9"><strong>9.</strong>&nbsp; Instruction</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <textarea id="10" name="instructions" class="materialize-textarea validate">
                    {{- recipe.instructions[9] -}}
                </textarea>
                <label for="10"><strong>10.</strong>&nbsp; Instruction</label>
            </div>
        </div>

        <div class="row">
            <div class="col s12 center-align">
             <!-- Modal Trigger -->
                <a class="waves-effect waves-light btn modal-trigger red lighten-1" href="#modal1"><i class="fas fa-trash-alt"></i> Delete Recipe</a>
                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content">
                        <h5>Are you sure you want to Delete this Recipe?</h5>
                        <div>
                           <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" class="waves-effect waves-light btn red lighten-1">Yes Delete</a>
                            <a href="#!" class="modal-close waves-effect waves-green light-green darken-1 btn">No cancel</a>
                        </div>
                    </div>
                </div>
                <button class="waves-effect waves-light btn light-green darken-1" type="submit" name="action">
                    Update Recipe <i class="far fa-edit"></i>
                </button>
            </div>
        </div>
    </form>
</div>

{% endblock %}